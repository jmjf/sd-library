# Prepare data

## XML to JSON

Based on what I'm seeing, xml2js is the package to use. I'll also use glob to get all the xml files.

-  `npm install --save-dev xml2js glob`
-  copy xml data to project db directory
-  create `prepare-data.ts`
   -  start by processing a single file and writing raw to JSON file
   -  build a function to convert data into a usable object
      -  lots of finding parts, figuring out how to get what I want, deal with sometimes missing values
   -  Some work around getting the promises working
      -  promisify glob so I can await a list of files
      -  xml2js generates promises, so result of `files.map()` is an array of promises parsing XML
      -  `await Promise.all()` the array of promises to get all the data

Change to process all files and merge into a single JSON array (can probably do something like `files.map(data.map(parseEntry)).flat()`).

Result is `db/harvard.json`, an array of objects containing book data.

**COMMIT: CHORE: convert Harvard library XML into JSON I can use** Reference: prepare data
